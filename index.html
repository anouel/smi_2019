<!DOCTYPE html>
<html>
<head>
  <title>Building R Packages</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Building R Packages',
                        subtitle: '<a href="https://github.com/muschellij2/smi_2019" class="uri">https://github.com/muschellij2/smi_2019</a>',
                useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                        favIcon: 'bloomberg.logo.small.horizontal.blue.png',
              },

      // Author information
      presenters: [
            {
        name:  'John Muschelli <a href="http://johnmuschelli.com/smi_2019" class="uri">http://johnmuschelli.com/smi_2019</a>' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <link rel="stylesheet" type="text/css" href="papaya.css?version=0.8&build=979" />
    <script type="text/javascript" src="papaya.js?version=0.8&build=979">
      
    </script>
      <script type="text/javascript"> 
        var params = []; 
        params["images"] = ["T1.nii.gz"]; 
        </script>
  <link href="index_files/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="index_files/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="index_files/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="index_files/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="index_files/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="index_files/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="index_files/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="index_files/ioslides-13.5.1/js/hammer.js"></script>
  <script src="index_files/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="index_files/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }
/* https://github.com/ropensci/plotly/pull/524#issuecomment-468142578 */
slide:not(.current) .plotly.html-widget{
  display: block;
}

    slides > slide:not(.nobackground):before {
      font-size: 12pt;
      content: "";
      position: absolute;
      bottom: 20px;
      left: 60px;
      background: url(bloomberg.logo.small.horizontal.blue.png) no-repeat 0 50%;
      -webkit-background-size: 30px 30px;
      -moz-background-size: 30px 30px;
      -o-background-size: 30px 30px;
      background-size: 30px 30px;
      padding-left: 40px;
      height: 30px;
      line-height: 1.9;
    }
  </style>

  <link rel="stylesheet" href="neuroconductor.css" type="text/css" />

</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="bloomberg.logo.small.horizontal.blue.png"></aside>
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
          </hgroup>
  </slide>

<style type="text/css">
article {
  font-size: 28pt;
}
</style>

<slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>What are R Packages?</h2></hgroup><article  id="what-are-r-packages">

</article></slide><slide class=""><hgroup><h2>R Packages</h2></hgroup><article  class="build" id="r-packages">

<ol class = 'build'>
<li>Sets of Functions</li>
<li>Set of Functions + Documentation</li>
<li>Set of Functions + Documentation + Data</li>
<li>Set of Functions + Documentation + Data + Vignettes</li>
<li>Set of Functions + Documentation + Data + Vignettes + Versions</li>
<li>Set of Functions + Documentation + Data + Vignettes + Versions + Dependencies</li>
</ol>

</article></slide><slide class=""><hgroup><h2>The resource with All the information</h2></hgroup><article  id="the-resource-with-all-the-information">

<p><a href='https://cran.r-project.org/doc/manuals/r-release/R-exts.html' title=''>https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a></p>

</article></slide><slide class=""><hgroup><h2>What’s in a Name?</h2></hgroup><article  id="whats-in-a-name">

<p>Package Names:</p>

<ul>
<li>must start with letter</li>
<li>no underscores</li>
<li>periods allowable or use CamelCase</li>
<li>can have numbers</li>
<li>should be Google-able</li>
</ul>

<p>If you have a package name in mind before you start, use the <code>available</code> package:</p>

<pre class = 'prettyprint lang-r'>install.packages(&quot;available&quot;)
available::available(&quot;packageName&quot;)</pre>

<p>Checks CRAN/Bioconductor/GitHub for potentially similar package names.</p>

</article></slide><slide class=""><hgroup><h2>Starting Up</h2></hgroup><article  id="starting-up">

<ul>
<li>This will use <a href='https://github.com/' title=''>GitHub</a> for packages, sign up for an account if you don’t have one.</li>
</ul>

<p>Use RStudio and the <code>devtools</code> and <code>usethis</code> packages. It’s easier.</p>

<pre class = 'prettyprint lang-r'>install.packages(&quot;devtools&quot;)
install.packages(&quot;usethis&quot;)</pre>

<p>In RStudio, File -&gt; New Project -&gt; New Directory -&gt; R Package using devtools (scroll down).</p>

</article></slide><slide class=""><hgroup><h2>Trying our first build</h2></hgroup><article  id="trying-our-first-build">

<p>In RStudio, click <code>Build → Clean and Rebuild</code>.</p>

<p>Boom! You have a package installed.</p>

<p>In RStudio, click <code>Build → Check Package</code>.</p>

<p>This checks our package.</p>

</article></slide><slide class=""><hgroup><h2>Setting Up RStudio</h2></hgroup><article  id="setting-up-rstudio">

<p>Go to Build -&gt; Configure Build Tools</p>

<p>Add <code>--as-cran</code> to &ldquo;Check Package&rdquo; (may not be necessary anymore)</p>

<p><img src="r_packages_figures/build_tools.png" style="width: 45%; display: block; margin: auto;"></p>

</article></slide><slide class=""><hgroup><h2>Setting Up: Documentation</h2></hgroup><article  id="setting-up-documentation">

<p>In RStudio, click <code>Build → Configure Build Tools → Generate Documentation with Roxygen</code>. If that is gray, install <code>roxygen2</code>.</p>

<pre class = 'prettyprint lang-r'>install.packages(&quot;roxygen2&quot;)</pre>

<p><img src="r_packages_figures/roxygen.png" style="width: 45%; display: block; margin: auto;"></p>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION file</h2></hgroup><article  id="description-file">

<p>In the RStudio project, go to &ldquo;Go to file/function&rdquo; search bar on the menu bar. Also <code>Ctrl + .</code> on Mac.</p>

<ul>
<li>This searches through the files in the package.

<ul>
<li>Also searches for <strong>function names</strong> and can go to that function in the file</li>
</ul></li>
</ul>

<p>Type <code>DESCRIPTION</code> and open that file.</p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article >

<p><img src="r_packages_figures/DESCRIPTION.png" width="100%" /></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article >

<p><img src="r_packages_figures/DESCRIPTION_overlay.png" width="100%" /></p>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION</h2></hgroup><article  id="description">

<ul>
<li>&quot;Title - What the Package Does (Title Case)</li>
<li>&ldquo;Author: YOURNAME&rdquo;</li>
<li>&ldquo;Maintainer: YOURNAME <a href='mailto:your@email.com' title=''>your@email.com</a>&rdquo;</li>
<li>&ldquo;Description: Use paragraph prose here. Don’t start with word package&rdquo; Use four spaces when indenting paragraphs within the Description.</li>
<li>&ldquo;License:&rdquo;, one of GPL-2 GPL-3 LGPL-2 LGPL-2.1 LGPL-3 AGPL-3 Artistic-2.0 BSD_2_clause BSD_3_clause MIT</li>
</ul>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION: additional fields</h2></hgroup><article  id="description-additional-fields">

<ul>
<li><strong>Imports:</strong> package1, package2

<ul>
<li>packages with functions we need <strong>in code</strong></li>
</ul></li>
<li><strong>Depends:</strong> package3, package5

<ul>
<li><strong>ALL</strong> functions loaded from package, but <strong>loaded in user library</strong> before your package</li>
<li>Similar to <code>library(package3); library(yourpackage)</code> - not recommended</li>
</ul></li>
<li><strong>Suggests:</strong> package4, package6

<ul>
<li>used in <strong>examples</strong> or <strong>vignettes</strong></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION: not so fun default</h2></hgroup><article  id="description-not-so-fun-default">

<p>In the RStudio build, it may add something like:</p>

<pre >Depends: R (&gt;= 3.5.3)</pre>

<p>This is not great because anyone with a lower <code>R</code> version (like <code>3.4</code>) cannot install your package. Unless you need the newest <code>R</code> functionality, delete this line.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Additional Changes to DESCRIPTION</h2></hgroup><article  id="additional-changes-to-description">

</article></slide><slide class=""><hgroup><h2>Authors</h2></hgroup><article  id="authors">

<p>I add this to the <code>DESCRIPTION</code> file:</p>

<pre >Authors@R: person(given = &quot;John&quot;,
           family = &quot;Muschelli&quot;,
           role = c(&quot;aut&quot;, &quot;cre&quot;),
           email = &quot;muschellij2@gmail.com&quot;,
           comment = c(ORCID = &quot;0000-0001-6469-1750&quot;))</pre>

</article></slide><slide class=""><hgroup><h2>Authors</h2></hgroup><article  id="authors-1">

<p>I use <code>Authors@R</code> even if there is only one author because of the <a href='https://github.com/r-lib/desc/issues/44' title=''><code>desc</code> package issue</a> and that package is relied upon for site building and stuff later.</p>

<div class="container">

<div id="left_col">
<p>Roles, see <code>?person</code></p>

<ul>
<li><code>cre</code> - creator/maintainer, can only have one</li>
<li><code>aut</code> = author, can have multiple</li>
</ul></div>

<div id="right_col">

<img src="figure/highlander.gif" style="width:120%; margin: auto;" alt="flow">

<div>


</article></slide><slide class=""><hgroup><h2>Maintainer</h2></hgroup><article  id="maintainer">

<p>If you use <code>Authors@R</code>, you should be able to remove the Maintainer field, but I don’t. I am explicit about <code>Maintainer</code> because some people use that field as some parsers use <code>Author</code> and not <code>Authors@R</code>.</p>

<pre >Maintainer: John Muschelli &lt;muschellij2@gmail.com&gt;</pre>

</article></slide><slide class=""><hgroup><h2>License</h2></hgroup><article  id="license">

<p>I use <code>License: GPL-3</code> or <code>GPL-2</code>.</p>

<ul>
<li>For GPL-3:</li>
</ul>

<pre class = 'prettyprint lang-r'>usethis::use_gpl3_license()</pre>

<p><a href='https://www.r-project.org/Licenses/' title=''>https://www.r-project.org/Licenses/</a></p>

<p><a href='https://kbroman.org/pkg_primer/pages/licenses.html' title=''>https://kbroman.org/pkg_primer/pages/licenses.html</a></p>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION: Package Title</h2></hgroup><article  id="description-package-title">

<p>Change the <code>Title</code> so that it’s Title Case and make sure to put single quotes around weird words (like science-specific).</p>

<pre >Title: How to Analyze Data and Images</pre>

<ul>
<li>do <strong>not</strong> start with R package or Package</li>
</ul>

</article></slide><slide class=""><hgroup><h2>DESCRIPTION: Description</h2></hgroup><article  id="description-description">

<p>Change the <code>Description</code> so that it’s a sentence (prose) and it ends with a period. Also I keep putting single quotes around weird words (like science-specific). Make sure to put links in angle brackets (<code>&lt;http...&gt;</code>). Use DOIs if you can (<code>&lt;doi...&gt;</code>). If you go too long on a line, indent it with 4 spaces &ldquo;<code></code>&rdquo; and go to the next.</p>

<ul>
<li>Look at some of favorite package descriptions</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Roxygen2</h2></hgroup><article  id="roxygen2">

<p>Roxygen allows for functions and documentation in the same file. Let’s make a function:</p>

<pre class = 'prettyprint lang-r'>top = function(x, n) {
  xx = x[1:n, 1:n]
  hist(xx)
  print(xx)
}</pre>

<p>Save this to <code>top.R</code> file in <code>R/</code> (where R functions are). Delete <code>hello.R</code> file if present.</p>

</article></slide><slide class=""><hgroup><h2>Adding a package to DESCRIPTION field</h2></hgroup><article  id="adding-a-package-to-description-field">

<p>Say you want to use <code>dplyr</code> functions for your code:</p>

<pre class = 'prettyprint lang-r'>usethis::use_package(&quot;dplyr&quot;)</pre>

<p>but what if you did this instead? (Function masking)</p>

<pre class = 'prettyprint lang-r'>usethis::use_package(&quot;dplyr&quot;, type = &quot;Depends&quot;)</pre>

</article></slide><slide class=""><hgroup><h2>Roxygen2</h2></hgroup><article  id="roxygen2-1">

<p>Highlight the following code:</p>

<pre class = 'prettyprint lang-r'>top = function(x, n) {</pre>

<p>Go to <code>Code -&gt; Insert Roxygen Skeleton</code></p>

</article></slide><slide class=""><hgroup><h2>Roxygen Skeleton</h2></hgroup><article  id="roxygen-skeleton">

<p>Roxygen header (what turns into a help file):</p>

<pre >#&#39; Title
#&#39;
#&#39; @param x 
#&#39; @param n 
#&#39;
#&#39; @return
#&#39; @export
#&#39;
#&#39; @examples</pre>

</article></slide><slide class=""><hgroup><h2>Roxygen Skeleton</h2></hgroup><article  id="roxygen-skeleton-1">

<ul>
<li><code>@param</code> stands for a parameter/argument for that function.<br/></li>
<li><code>@return</code> denotes what the function returns. This is required.<br/></li>
<li><code>@export</code> - when people install your package, can they use this function

<ul>
<li>non-exported functions are usually helpers, really small, or not fully formed yet</li>
<li><code>@examples</code> - code to show how the function works. Wrap functions in <code>\dontrun{}</code> if not wanted to run and <code>\donttest{}</code> for not testing

<ul>
<li>make sure <code>\dontrun{}</code> not <code>\dontrun {}</code> (spaces fail)</li>
</ul></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Roxygen Skeleton:</h2></hgroup><article  id="roxygen-skeleton-2">

<pre >#&#39; Print the top of a matrix
#&#39; @param x a \code{matrix}
#&#39; @param n Number of rows and columns to display of the matrix
#&#39;
#&#39; @return A \code{NULL}
#&#39; @export
#&#39;
#&#39; @examples 
#&#39; mat = matrix(rnorm(100), nrow = 10)
#&#39; top(mat, n = 4)
#&#39; \dontrun{
#&#39;    top(mat, n = 10)
#&#39; }</pre>

</article></slide><slide class=""><hgroup><h2>Roxygen Skeleton</h2></hgroup><article  id="roxygen-skeleton-3">

<p>Instead of <code>Title</code>, you can use separate <code>@title</code> and <code>@description</code> tags if you want them to be different. For example:</p>

<pre >#&#39; @title Print the top of a matrix
#&#39; @description \code{top} is a small function to not just present the first rows</pre>

</article></slide><slide class=""><hgroup><h2>Roxygen and Markdown</h2></hgroup><article  id="roxygen-and-markdown">

<p>If you want to use <code>markdown</code> with <code>roxygen2</code>, then you can use</p>

<pre class = 'prettyprint lang-r'>usethis::use_roxygen_md()</pre>

<p>so instead of <code>\code{top}</code> you can write <code>`top`</code> from the previous slide.</p>

</article></slide><slide class=""><hgroup><h2>NAMESPACE</h2></hgroup><article  id="namespace">

<p><img src="r_packages_figures/NAMESPACE.png" width="100%" /></p>

</article></slide><slide class=""><hgroup><h2>NAMESPACE</h2></hgroup><article  id="namespace-1">

<p><img src="r_packages_figures/NAMESPACE_overlay.png" width="100%" /></p>

</article></slide><slide class=""><hgroup><h2>NAMESPACE</h2></hgroup><article  id="namespace-2">

<p>In Roxygen:</p>

<ul>
<li><code>@export</code> - adds this to the NAMESPACE file

<ul>
<li>when package is installed, users can call this function</li>
</ul></li>
<li><code>@import</code> - in roxygen, if you want to import a <strong>package</strong>, you say <code>@import PACKAGENAME</code>

<ul>
<li>imports <strong>ALL</strong> functions from that package</li>
<li>if package is listed under Depends in DESCRIPTION, then the <strong>whole package</strong> is loaded when you load your package</li>
<li>otherwise it simply exposes them for your package to use them, but not the user, users still have to do <code>library(PACKAGENAME)</code></li>
</ul></li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>You do not have <code>library()</code> functions in R package code</h2></hgroup><article  id="you-do-not-have-library-functions-in-r-package-code">

</article></slide><slide class=""><hgroup><h2>Check</h2></hgroup><article  id="check">

<p>Go to <code>Build → Check Package</code>. You should see something like:</p>

<pre >   top: no visible global function definition for ‘hist’
   Undefined global functions or variables:
     hist
   Consider adding
     importFrom(&quot;graphics&quot;, &quot;hist&quot;)
   to your NAMESPACE file.</pre>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>The Goal is to have NO Errors/Warnings/Notes on R CMD Check</h2></hgroup><article  id="the-goal-is-to-have-no-errorswarningsnotes-on-r-cmd-check">

</article></slide><slide class=""><hgroup><h2>NAMESPACE</h2></hgroup><article  id="namespace-3">

<ul>
<li><code>@importFrom</code> - in roxygen, if you want to import a <strong>function</strong>, you say <code>@import PACKAGENAME func1 func2</code>

<ul>
<li>only imports these functions. Better way of doing things.</li>
<li>if <code>pkgA</code> has function <code>A</code> and <code>pkgB</code> has functions <code>A</code> and <code>B</code>, if <code>@import pkgA A</code>, <code>@import pkgB B</code>, then if you call <code>A()</code>, R knows it’s from <code>pkgA</code></li>
<li>you must import anything explicitly other than from the <code>base</code> package, includying anything from <code>stats</code> (e.g. <code>quantile</code>) or <code>graphics</code> (e.g. <code>hist</code>)</li>
</ul></li>
</ul>

<p>Add <code>@importFrom graphics hist</code> to your <code>top.R</code> file</p>

</article></slide><slide class=""><hgroup><h2>NAMESPACE</h2></hgroup><article  id="namespace-4">

<ul>
<li>You only have to import a whole package or a package function, don’t mix and match</li>
<li>You only have to import a function in <strong>one</strong> file.</li>
<li><p>For example, <code>@importFrom graphics hist</code> can go in any <code>.R</code> file.</p></li>
<li>Any package you want to import, make sure you use <code>use_package</code>, so we’d use:</li>
</ul>

<pre class = 'prettyprint lang-r'>usethis::use_package(&quot;graphics&quot;)</pre>

<ul>
<li>Good practice is to import all packages, including base <code>R</code> packages (e.g. <code>graphics</code>, <code>stats</code>) when needed. Don’t import <code>base</code>.</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Build and Reload Again</h2></hgroup><article  id="build-and-reload-again">

<ul>
<li>Go to <code>Build → Build and Reload</code> the package

<ul>
<li>First time you may see some warnings (no NAMESPACE file!)</li>
<li>Rerunning may get rid of these</li>
</ul></li>
<li>Then try <code>Build → Check Package</code></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Troubleshooting</h2></hgroup><article  id="troubleshooting">

<p>In case things are not working or seem off</p>

<ul>
<li>Delete the <code>NAMESPACE</code> file. If building fails, add an empty file with <code># Generated by roxygen2: do not edit by hand</code> at the top and rerun.</li>
<li>Delete the <code>man</code> folder

<ul>
<li><code>roxygen2</code> will create the documentation automatically</li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Including Data</h2></hgroup><article  id="including-data">

<ul>
<li>Data should be small, but good for running examples or vignettes.</li>
</ul>

<p>Run <code>use_data_raw()</code> if you have code to generate data (R data):</p>

<pre class = 'prettyprint lang-r'>usethis::use_data_raw()</pre>

</article></slide><slide class=""><hgroup><h2>Including Data</h2></hgroup><article  id="including-data-1">

<p>Let’s say you want to make a data set <code>mydata_set</code>:</p>

<p>At the end of the script, run</p>

<pre class = 'prettyprint lang-r'>usethis::use_data(mydata_set, compress = &quot;xz&quot;)</pre>

<p>And this will make a <code>data/mydata_set.rda</code> file.</p>

</article></slide><slide class=""><hgroup><h2>Including Non-R data</h2></hgroup><article  id="including-non-r-data">

<p>If you want to include other types of data (such as images) put them into the <code>inst/</code> folder (or a subfolder of <code>inst</code>). You can access them using <code>system.file</code> when installed.</p>

<p>For example, if you have a file <code>inst/extdata/myimage.nii.gz</code>:</p>

<pre class = 'prettyprint lang-r'>system.file(&quot;extdata&quot;, &quot;myimage.nii.gz&quot;, package = &quot;PACKAGENAME&quot;)</pre>

<p>will return the filename for you to access it in code, where <code>PACKAGENAME</code> is your package name.</p>

</article></slide><slide class=""><hgroup><h2>Unit Tests</h2></hgroup><article  id="unit-tests">

<p>Unit testing packages: <code>testthat</code> and <code>RUnit</code>.</p>

<p>To use <code>testthat</code>, run <code>usethis::use_testthat()</code>. All test files must be in <code>testthat/tests/</code> and must start with the word <code>test</code>.</p>

<pre class = 'prettyprint lang-r'>testthat::test_that(&quot;Description of test&quot;, { 
# code for test
testthat::expect_equal(r, 3.5523334)
testthat::expect_true(x)
testthat::expect_is(my_df, &quot;data.frame&quot;)
})</pre>

</article></slide><slide class=""><hgroup><h2>Creating Vignettes</h2></hgroup><article  id="creating-vignettes">

<pre class = 'prettyprint lang-r'>usethis::use_vignette(&quot;my-vignette&quot;)</pre>

<p><code>title</code> is on the document, <code>VignetteIndexEntry</code> is on the website:</p>

<pre >---
title: &quot;my-vignette&quot;
output: rmarkdown::html_vignette
vignette: &gt;
  %\VignetteIndexEntry{my-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---</pre>

</article></slide><slide class=""><hgroup><h2>Creating a README</h2></hgroup><article  id="creating-a-readme">

<pre class = 'prettyprint lang-r'>usethis::use_readme_rmd()</pre>

<p>This will create a <code>README.Rmd</code> file for your GitHub/Package.</p>

</article></slide><slide class=""><hgroup><h2>Creating NEWS.md</h2></hgroup><article  id="creating-news.md">

<pre class = 'prettyprint lang-r'>usethis::use_news_md()</pre>

<p>This will create a <code>NEWS.md</code> file to update with new versions of the package, discussing changes.</p>

</article></slide><slide class=""><hgroup><h2>Building CI and README</h2></hgroup><article  id="building-ci-and-readme">

<p>I run the short version of the code on <a href='http://johnmuschelli.com/neuroc/getting_ready_for_submission/index.html' title=''>http://johnmuschelli.com/neuroc/getting_ready_for_submission/index.html</a>, which essentially to run (in R):</p>

<pre class = 'prettyprint lang-r'>usethis::use_git()
usethis::use_github() # must have GITHUB_PAT set up
usethis::use_readme_rmd()
usethis::use_appveyor()
usethis::use_travis()</pre>

<p>And edit the following files:</p>

</article></slide><slide class=""><hgroup><h2><code>.travis.yml</code></h2></hgroup><article  id="travis.yml">

<p>Add the following lines:</p>

<pre >warnings_are_errors: true 
after_success:
  - Rscript -e &#39;covr::coveralls(type = &quot;all&quot;)&#39;</pre>

<p>to <code>.travis.yml</code>.</p>

</article></slide><slide class=""><hgroup><h2><code>appveyor.yml</code></h2></hgroup><article  id="appveyor.yml">

<p>Add the following lines:</p>

<pre >environment:
  global:
    WARNINGS_ARE_ERRORS: 1</pre>

<p>to <code>appveyor.yml</code>.</p>

</article></slide><slide class=""><hgroup><h2><code>README.md</code></h2></hgroup><article  id="readme.md">

<p>Add the following lines, changing <code>GITHUB_USERNAME/REPO</code> to the correct version</p>

<pre > [![Travis-CI Build Status] (https://travis-ci.org/GITHUB_USERNAME/REPO.svg?branch=master)] (https://travis-ci.org/GITHUB_USERNAME/REPO)
 [![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/GITHUB_USERNAME/REPO?branch=master&amp;svg=true)](https://ci.appveyor.com/project/GITHUB_USERNAME/REPO)</pre>

<p>to the <code>README.md</code>.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Additional edits</h2></hgroup><article  id="additional-edits">

<p>I tend to add to the <code>README.md</code> an installation script (using <code>remotes</code> or <code>devtools</code>) :</p>

<pre >## Installation

To install the package, please run:

```r
remotes::install_github(&quot;GITHUB_USERNAME/REPO&quot;)
```</pre>

<p>I grab my <code>Description</code> field from <code>DESCRIPTION</code> file and add <code>The package DESCRIPTION_FIELD_HERE</code> in <code>README.md</code></p></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
